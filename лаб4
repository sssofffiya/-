CalcException.java
public class CalcException extends ArithmeticException {
   public CalcException() {}

   public CalcException(String cause) {
       super(cause);
   }
}



Equations.java
public class Equations {
   /**
    * Метод для обчислення y = sin(x)/cos(x)
    * @param x кут у градусах
    * @return результат обчислення
    * @throws CalcException якщо cos(x) = 0
    */
   public double calculate(int x) throws CalcException {
       double rad = x * Math.PI / 180.0; // переводимо у радіани
       double y;

       try {
           y = Math.sin(rad) / Math.cos(rad);
           if (x == 123) { // будь-яке "особливе" значення
           throw new ArithmeticException("Тестова помилка");
       }
           // перевірка на виняткові значення
           if (Double.isNaN(y) || Double.isInfinite(y)) {
               throw new ArithmeticException();
           }
       } catch (ArithmeticException ex) {
           if (Math.cos(rad) == 0) {
               throw new CalcException("Exception reason: cos(x) = 0, ділення на нуль неможливе");
           } else {
               throw new CalcException("Unknown reason of the exception during calculation");
           }
       }

       return y;
   }
}



EquationsApp.java
public class EquationsApp {
   public static void main(String[] args) {
       try {
           out.print("Введіть назву файлу для запису результатів: ");
           Scanner in = new Scanner(System.in);
           String fName = in.nextLine();
           PrintWriter fout = new PrintWriter(new File(fName));

           try {
               try {
                   Equations eq = new Equations();
                   out.print("Введіть X (у градусах): ");
                   int x = in.nextInt();
                   double result = eq.calculate(x);
                   fout.println("Результат: y = " + result);
                   out.println("Результат записано у файл.");
               } finally {
                   // блок finally виконається у будь-якому випадку
                   fout.flush();
                   fout.close();
               }
           } catch (CalcException ex) {
               out.println(ex.getMessage());
           }
       } catch (FileNotFoundException ex) {
           out.println("Exception reason: неправильний шлях до файлу");
       }
   }
}








