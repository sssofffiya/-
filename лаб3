Dog.java


import java.io.File;
import java.io.FileNotFoundException;
import java.io.PrintWriter;


public abstract class Dog {
   private Tail tail;
   private Paw paw;
   private Muzzle muzzle;
   private String name;
   private int age;
   protected PrintWriter fout; // захищено, щоби нащадки могли логувати

   /**
    * Конструктор за замовчуванням.
    */
   public Dog() throws FileNotFoundException {
       this("Безіменний", 0);
   }

   /**
    * Конструктор з параметрами.
    * @param name ім'я собаки
    * @param age вік собаки
    * @throws FileNotFoundException якщо файл для логів не створюється
    */
   public Dog(String name, int age) throws FileNotFoundException {
       this.name = name;
       this.age = age;
       this.tail = new Tail();
       this.paw = new Paw();
       this.muzzle = new Muzzle();
       fout = new PrintWriter(new File(name + "_log.txt"));
   }

   /** Метод: собака гавкає */
   public void bark() {
       muzzle.open();
       fout.println(name + " гавкає: Гав-гав!");
       fout.flush();
   }

   /** Метод: собака сідає */
   public void sit() {
       paw.putDown();
       fout.println(name + " сів.");
       fout.flush();
   }

   /** Метод: собака лягає */
   public void lieDown() {
       fout.println(name + " ліг.");
       fout.flush();
   }

   /** Метод: собака махає хвостом */
   public void wagTail() {
       tail.wag();
       fout.println(name + " махає хвостом.");
       fout.flush();
   }

   /** Метод: собака перестав махати хвостом */
   public void stopWagging() {
       tail.stop();
       fout.println(name + " перестав махати хвостом.");
       fout.flush();
   }

   /** Метод: собака піднімає лапу */
   public void liftPaw() {
       paw.lift();
       fout.println(name + " підняв лапу.");
       fout.flush();
   }

   /** Метод: собака закрив пащу */
   public void closeMouth() {
       muzzle.close();
       fout.println(name + " закрив пащу.");
       fout.flush();
   }

   /** Метод: собака біжить */
   public void run() {
       fout.println(name + " весело біжить!");
       fout.flush();
   }

   /** Метод: собака їсть */
   public void eat(String food) {
       fout.println(name + " їсть " + food + ".");
       fout.flush();
   }

   /** Метод: собака спить */
   public void sleep() {
       fout.println(name + " спить.");
       fout.flush();
   }

   /** Коректне завершення роботи з файлом */
   public void dispose() {
       fout.close();
   }

   // гетери
   public String getName() { return name; }
   public int getAge() { return age; }
}



ExperimentalDog.java
package KI302.Bylen.Lab3;

import java.io.FileNotFoundException;

/**
* Підклас Dog — "Піддослідний пес".
* Реалізує інтерфейс Testable та зберігає історію тестів.
*/
public class ExperimentalDog extends Dog implements Testable {
   private StringBuilder testHistory;

   /**
    * Конструктор.
    * @param name ім'я собаки
    * @param age вік собаки
    * @throws FileNotFoundException якщо файл логу не створено
    */
   public ExperimentalDog(String name, int age) throws FileNotFoundException {
       super(name, age);
       testHistory = new StringBuilder();
       fout.println(getName() + " — створено як піддослідний пес.");
       fout.flush();
   }

   /**
    * Виконати тест. Логує результат (симульовано) і зберігає в історію.
    * @param testName назва тесту
    */
   @Override
   public void performTest(String testName) {
       // Симуляція результату тесту
       String result = testName + ": Успішно пройдено";
       // Можеш додати логіку для випадкових невдач, перевірок тощо
       testHistory.append(result).append(System.lineSeparator());
       fout.println(getName() + " — виконує тест: " + testName + " -> " + result);
       fout.flush();
   }

   /**
    * Повернути текстовий звіт з результатами тестів.
    * @return результати тестів як рядок
    */
   @Override
   public String getTestResults() {
       return testHistory.toString();
   }

   /**
    * Приклад розширеного методу — піддослідний пес може реагувати по-особливому на команду "sit"
    */
   @Override
   public void sit() {
       super.sit();
       fout.println(getName() + " (піддослідний) — додаткова перевірка пози після сідання.");
       fout.flush();
   }
}




ExperimentalDogApp.java

public class ExperimentalDogApp {
   public static void main(String[] args) {
       try {
           ExperimentalDog rex = new ExperimentalDog("Рекс", 3);

           rex.bark();
           rex.wagTail();
           rex.liftPaw();
           rex.sit();
           rex.eat("кістку");
           rex.run();
           rex.performTest("Стійкість до шуму");
           rex.performTest("Реакція на команду 'до мене'");
           System.out.println("Результати тестів:\n" + rex.getTestResults());
           rex.lieDown();
           rex.sleep();
           rex.stopWagging();
           rex.closeMouth();

           rex.dispose();
       } catch (FileNotFoundException e) {
           System.err.println("Не вдалося відкрити файл для логування: " + e.getMessage());
       }
   }
}



Muzzle.java

public class Muzzle {
   private boolean openMouth;

   public Muzzle() {
       this.openMouth = false;
   }

   public void open() {
       openMouth = true;
   }

   public void close() {
       openMouth = false;
   }

   public boolean isOpen() {
       return openMouth;
   }
}




Paw.java

public class Paw {
   private boolean lifted;

   public Paw() {
       this.lifted = false;
   }

   public void lift() {
       lifted = true;
   }

   public void putDown() {
       lifted = false;
   }

   public boolean isLifted() {
       return lifted;
   }
}




public class Tail {
   private boolean wagging;

   public Tail() {
       this.wagging = false;
   }

   public void wag() {
       wagging = true;
   }

   public void stop() {
       wagging = false;
   }

   public boolean isWagging() {
       return wagging;
   }
}




public interface Testable {
   /**
    * Виконати тест з іменем testName.
    * @param testName назва тесту
    */
   void performTest(String testName);

   /**
    * Повернути текстовий звіт з результатами тестів.
    * @return результати тестів
    */
   String getTestResults();
}
